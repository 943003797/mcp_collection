# MCP Collection

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„MCPï¼ˆModel Context Protocolï¼‰å·¥å…·é›†åˆï¼Œæä¾›é‚®ä»¶å¤„ç†ã€æ–‡ä»¶ç³»ç»Ÿæ“ä½œã€æ–‡æœ¬è½¬è¯­éŸ³å’Œè‡ªåŠ¨è§†é¢‘ç¼–è¾‘ç­‰åŠŸèƒ½ã€‚

## é¡¹ç›®å®‰è£…ä¸å¯åŠ¨

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- macOS/Linux/Windows

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/943003797/mcp_collection.git
   cd mcp_collection
   ```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
   ```bash
   # ä½¿ç”¨uvï¼ˆæ¨èï¼‰
   uv venv
   source .venv/bin/activate  # macOS/Linux
   # æˆ–è€… .venv\Scripts\activate  # Windows
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   uv sync
   ```

4. **é…ç½®ç¯å¢ƒå˜é‡**
   å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿å¹¶é…ç½®ï¼š
   ```bash
   cp .env.example .env
   ```
   
   ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œæ·»åŠ å¿…è¦çš„APIå¯†é’¥ï¼š
   ```env
   ALI_KEY=your_alibaba_cloud_api_key
   ```

5. **å¯åŠ¨æœåŠ¡**
   ```bash
   uv run main.py
   ```

   æœåŠ¡å°†åœ¨ http://localhost:8000 å¯åŠ¨ï¼Œä½¿ç”¨SSEï¼ˆServer-Sent Eventsï¼‰ä¼ è¾“åè®®ã€‚

## å·¥å…·è¯´æ˜

### ğŸ“§ é‚®ä»¶å¤„ç†å·¥å…·

---

##### ğŸ“¨ `get_last_email`
è·å–æŒ‡å®šé‚®ç®±ä¸­æœ€æ–°çš„é‚®ä»¶å†…å®¹ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|---|---|---|
| `imap_server` | string | IMAPæœåŠ¡å™¨åœ°å€ |
| `port` | int | IMAPæœåŠ¡å™¨ç«¯å£ï¼ˆ993/143ï¼‰ |
| `email_address` | string | é‚®ç®±åœ°å€ |
| `password` | string | é‚®ç®±å¯†ç  |
| `inbox` | string | æ”¶ä»¶ç®±åç§°ï¼ˆ"INBOX"ï¼‰ |
| `subject` | string | é‚®ä»¶ä¸»é¢˜å…³é”®è¯ï¼ˆå¯é€‰ï¼‰ |

**è¿”å›ï¼š** é‚®ä»¶å†…å®¹å­—ç¬¦ä¸²ï¼Œæœªæ‰¾åˆ°è¿”å›ç©ºå­—ç¬¦ä¸²

### ğŸ“ æ–‡ä»¶ç³»ç»Ÿå·¥å…·

---

##### ğŸ“„ `read_file`
è¯»å–æŒ‡å®šæ–‡ä»¶çš„å†…å®¹ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|---|---|---|
| `file_path` | string | æ–‡ä»¶è·¯å¾„ |

**è¿”å›ï¼š** æ–‡ä»¶å†…å®¹å­—ç¬¦ä¸²

##### ğŸ“ `write_file`
å°†å†…å®¹å†™å…¥æŒ‡å®šæ–‡ä»¶ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|---|---|---|
| `file_path` | string | ç›®æ ‡æ–‡ä»¶è·¯å¾„ |
| `content` | string | è¦å†™å…¥çš„å†…å®¹ |

**è¿”å›ï¼š** "success"ï¼ˆæˆåŠŸï¼‰æˆ–æŠ›å‡ºå¼‚å¸¸

##### ğŸ“‚ `copy_dir`
å¤åˆ¶æºç›®å½•åˆ°ç›®æ ‡ç›®å½•ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|---|---|---|
| `from_path` | string | æºç›®å½•è·¯å¾„ |
| `to_path` | string | ç›®æ ‡ç›®å½•è·¯å¾„ |

**è¿”å›ï¼š** "success"ï¼ˆæˆåŠŸï¼‰æˆ–æŠ›å‡ºFileNotFoundError

### ğŸ”Š æ–‡æœ¬è½¬è¯­éŸ³å·¥å…·

---

##### ğŸ”ˆ `create_text_to_audio`
å°†æ–‡æœ¬è½¬æ¢ä¸ºéŸ³é¢‘æ–‡ä»¶ã€‚
è¯·åœ¨.envé…ç½®ALI_KEY

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|---|---|---|
| `text` | string | è¦è½¬æ¢çš„æ–‡æœ¬å†…å®¹ |
| `out_path` | string | è¾“å‡ºéŸ³é¢‘æ–‡ä»¶è·¯å¾„ |

**è¿”å›ï¼š** "Success"ï¼ˆæˆåŠŸï¼‰æˆ–"Failed"ï¼ˆå¤±è´¥ï¼‰

### ğŸ¬ è‡ªåŠ¨è§†é¢‘ç¼–è¾‘å·¥å…·

---

##### ğŸï¸ `auto_cut`
åŸºäºå‰ªæ˜ è‰ç¨¿çš„è‡ªåŠ¨è§†é¢‘ç¼–è¾‘ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|---|---|---|
| `draft_path` | string | å‰ªæ˜ è‰ç¨¿æ–‡ä»¶è·¯å¾„ |

**è¿”å›ï¼š** "Success"ï¼ˆæˆåŠŸï¼‰

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **MCPæ¡†æ¶**: FastMCP (Model Context Protocol)
- **é‚®ä»¶å¤„ç†**: imaplib, email
- **æ–‡ä»¶æ“ä½œ**: os, shutil
- **è¯­éŸ³åˆæˆ**: é˜¿é‡Œå·´å·´CosyVoice API
- **è§†é¢‘ç¼–è¾‘**: pyJianYingDraft (å‰ªæ˜ API)
- **å¼‚æ­¥é€šä¿¡**: Server-Sent Events (SSE)

#### æµ‹è¯•å·¥å…·

å¯ä»¥ä½¿ç”¨ä»»ä½•MCPå®¢æˆ·ç«¯æµ‹è¯•å·¥å…·åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š

```python
from mcp import Client

client = Client("http://localhost:8000")
result = client.call_tool("read_file", {"file_path": "/path/to/test.txt"})
```

### ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

### ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶